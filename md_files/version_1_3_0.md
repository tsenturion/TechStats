# ๐ ะะตััะธั 1.3.0 - ะัะฟัะฐะฒะปะตะฝะธะต ะฟัะพะณัะตััะฐ ะธ ัะฐััะธัะตะฝะฝัะต ะฝะฐัััะพะนะบะธ

## โ ะัะธัะธัะตัะบะพะต ะธัะฟัะฐะฒะปะตะฝะธะต: ะัะพะณัะตัั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

### ะัะพะฑะปะตะผะฐ
ะัะพะณัะตัั-ะฑะฐั ััะพัะป ะฝะฐ 0% ะธ ะฟะพะบะฐะทัะฒะฐะป ัะพะปัะบะพ "ะะพะปััะฐะตะผ ัะฟะธัะพะบ ะฒะฐะบะฐะฝัะธะน...", ัะพัั ะฒ ะปะพะณะฐั ัะตัะฒะตัะฐ ะฒัั ัะฐะฑะพัะฐะปะพ ะบะพััะตะบัะฝะพ.

### ะัะธัะธะฝะฐ
WebSocket ัะพะพะฑัะตะฝะธั ะพัะฟัะฐะฒะปัะปะธัั ะธะท **ัะธะฝััะพะฝะฝะพะณะพ** ะบะพะดะฐ, ะบะพัะพััะน ะฑะปะพะบะธัะพะฒะฐะป event loop. ะกะพะพะฑัะตะฝะธั ะฝะฐะบะฐะฟะปะธะฒะฐะปะธัั ะฒ ะฑััะตัะต ะธ ะพัะฟัะฐะฒะปัะปะธัั ัะพะปัะบะพ ะฟะพัะปะต ะทะฐะฒะตััะตะฝะธั ะฒัะตะน ััะฝะบัะธะธ.

### ะะตัะตะฝะธะต
1. **ะัะธะฝััะพะฝะฝัะต HTTP ะทะฐะฟัะพัั**
   ```python
   # ะัะปะพ (ะฑะปะพะบะธััััะตะต)
   response = requests.get(url)
   
   # ะกัะฐะปะพ (ะฐัะธะฝััะพะฝะฝะพะต)
   loop = asyncio.get_event_loop()
   response = await loop.run_in_executor(
       None,
       lambda: requests.get(url)
   )
   ```

2. **ะฏะฒะฝัะต ะทะฐะดะตัะถะบะธ ะดะปั ะฑัะฐัะทะตัะฐ**
   ```python
   await manager.send_message({...}, websocket)
   await asyncio.sleep(0.05)  # ะะฐะตะผ ะฒัะตะผั ะฑัะฐัะทะตัั ะพะฑัะฐะฑะพัะฐัั
   ```

3. **ะะพัะปะตะดะพะฒะฐัะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ**
   - ะกััะฐะฝะธัั ะทะฐะณััะถะฐัััั ะพะดะฝะฐ ะทะฐ ะดััะณะพะน ั ะพัะฟัะฐะฒะบะพะน ะฟัะพะณัะตััะฐ
   - ะะฐะบะฐะฝัะธะธ ะฐะฝะฐะปะธะทะธัััััั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพ ั ะพะฑะฝะพะฒะปะตะฝะธัะผะธ ะบะฐะถะดัะต 10 ัััะบ

### ะะตะทัะปััะฐั
โ ะัะพะณัะตัั-ะฑะฐั ะฟะปะฐะฒะฝะพ ะดะฒะธะถะตััั ะพั 0% ะดะพ 100%  
โ ะัะต ะผะตััะธะบะธ ะพะฑะฝะพะฒะปััััั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ  
โ ะกะพะพะฑัะตะฝะธั ะผะตะฝััััั ะฝะฐ ะบะฐะถะดะพะผ ััะฐะฟะต  
โ ะะฐััะพัะบะธ ะดะฐะฝะฝัั ะพะฑะฝะพะฒะปััััั ะบะฐะถะดัะต 0.5-1 ัะตะบัะฝะดั  

---

## ๐๏ธ ะะฐััะธัะตะฝะฝัะต ะฝะฐัััะพะนะบะธ

### ะงัะพ ะดะพะฑะฐะฒะปะตะฝะพ

ะ ะธะฝัะตััะตะนั ะดะพะฑะฐะฒะปะตะฝ ัะฐะทะดะตะป **"โ๏ธ ะะฐััะธัะตะฝะฝัะต ะฝะฐัััะพะนะบะธ"** ัะพ ัะปะตะดัััะธะผะธ ะฟะฐัะฐะผะตััะฐะผะธ:

#### 1. **ะะฐะดะตัะถะบะฐ ะทะฐะฟัะพัะพะฒ** (ัะตะบ)
```
ะะฝะฐัะตะฝะธะต: 0.0 - 1.0
ะะพ ัะผะพะปัะฐะฝะธั: 0.1
```
- **0.1** = ะฑััััะพ, ะผะพะถะตั ะฒัะทะฒะฐัั rate limit
- **0.3** = ะพะฟัะธะผะฐะปัะฝะพ
- **0.5** = ะฑะตะทะพะฟะฐัะฝะพ, ะผะตะดะปะตะฝะฝะตะต

#### 2. **ะะฐะบั. ะทะฐะฟัะพัะพะฒ/ัะตะบ**
```
ะะฝะฐัะตะฝะธะต: 1 - 20
ะะพ ัะผะพะปัะฐะฝะธั: 7
HH.ru ะปะธะผะธั: ะฝะต ะฑะพะปะตะต 10
```
- **5-7** = ะฑะตะทะพะฟะฐัะฝัะน ะดะธะฐะฟะฐะทะพะฝ
- **10** = ะผะฐะบัะธะผัะผ ะดะปั HH.ru
- **>10** = ะผะพะถะตั ะฒัะทะฒะฐัั ะฑะปะพะบะธัะพะฒะบั

#### 3. **ะัะตะผั ะถะธะทะฝะธ ะบััะฐ** (ัะฐัะพะฒ)
```
ะะฝะฐัะตะฝะธะต: 1 - 168 (ะฝะตะดะตะปั)
ะะพ ัะผะพะปัะฐะฝะธั: 24
```
- **6-12** ัะฐัะพะฒ = ะดะปั ัะฐััะพ ะผะตะฝัััะธััั ะฒะฐะบะฐะฝัะธะน
- **24** ัะฐัะฐ = ะพะฟัะธะผะฐะปัะฝะพ
- **72-168** ัะฐัะพะฒ = ะดะปั ัะตะดะบะพ ะผะตะฝัััะธััั ะฒะฐะบะฐะฝัะธะน

#### 4. **ะะฐัะฐะปะปะตะปัะฝัั ะฟะพัะพะบะพะฒ**
```
ะะฝะฐัะตะฝะธะต: 1 - 10
ะะพ ัะผะพะปัะฐะฝะธั: 5
ะัะธะผะตัะฐะฝะธะต: ะดะปั ะฑัะดััะธั ะฒะตััะธะน
```
ะะพะบะฐ ะฝะต ะธัะฟะพะปัะทัะตััั (ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะดะปั WebSocket).

---

## ๐ ะขะตะฟะตัั ะฒ ะธะฝัะตััะตะนัะต ะฒะธะดะฝะพ

### ะญัะฐะฟ 1: ะะฐะณััะทะบะฐ ะฒะฐะบะฐะฝัะธะน (0-50%)

```
โโโโโโโโโโโโโ 25% โโโโโโโโโโโโโ
ะะฐะณััะถะตะฝะพ ัััะฐะฝะธั: 5/10, ะฒัะตะณะพ ะฒะฐะบะฐะฝัะธะน: 500

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฐะนะดะตะฝะพ ะฒะฐะบะฐะฝัะธะน       996  โ โ ะะะะะะะฏะะขะกะฏ
โ ะัะตะณะพ ัััะฐะฝะธั          10   โ โ ะะะะะะะฏะะขะกะฏ
โ ะะฐะณััะถะตะฝะพ ัััะฐะฝะธั      5/10 โ โ ะะะะะะะฏะะขะกะฏ
โ ะะฐะณััะถะตะฝะพ ะพะฑััะฒะปะตะฝะธะน   500  โ โ ะะะะะะะฏะะขะกะฏ
โ ะะตะฐะปัะฝัั ะทะฐะฟัะพัะพะฒ      5    โ โ ะะะะะะะฏะะขะกะฏ
โ ะะท ะบััะฐ                0    โ โ ะะะะะะะฏะะขะกะฏ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะญัะฐะฟ 2: ะะฝะฐะปะธะท ะฒะฐะบะฐะฝัะธะน (50-95%)

```
โโโโโโโโโโโโโ 75% โโโโโโโโโโโโโ
ะะฑัะฐะฑะพัะฐะฝะพ ะฒะฐะบะฐะฝัะธะน: 450/996, ะฝะฐะนะดะตะฝะพ ั ัะตัะฝะพะปะพะณะธะตะน: 234

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฑัะฐะฑะพัะฐะฝะพ         450/996  โ โ ะะะะะะะฏะะขะกะฏ
โ ะัะพะณัะตัั ะฐะฝะฐะปะธะทะฐ   45.2%    โ โ ะะะะะะะฏะะขะกะฏ
โ ะกะบะพัะพััั           22 ะฒะฐะบ/ั โ โ ะะะะะะะฏะะขะกะฏ
โ ะััะฐะปะพัั           ~24 ัะตะบ  โ โ ะะะะะะะฏะะขะกะฏ
โ ะะฐะนะดะตะฝะพ            234      โ โ ะะะะะะะฏะะขะกะฏ
โ ะะตะฐะปัะฝัั ะทะฐะฟัะพัะพะฒ  156      โ โ ะะะะะะะฏะะขะกะฏ
โ ะะท ะบััะฐ            294      โ โ ะะะะะะะฏะะขะกะฏ
โ ะะพะฟะฐะดะฐะฝะธะต ะฒ ะบัั    ๐ฏ 65%   โ โ ะะะะะะะฏะะขะกะฏ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะญัะฐะฟ 3: ะะฐะฒะตััะตะฝะธะต (100%)

```
โโโโโโโโโโโโโ 100% โโโโโโโโโโโโ
ะะฝะฐะปะธะท ะทะฐะฒะตััะตะฝ!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะขะตัะฝะพะปะพะณะธั ะฝะฐะนะดะตะฝะฐ  468/996 โ
โ ะกัะฐััั              โ OK   โ
โ ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั    44.7 ั  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐งช ะะฐะบ ะฟัะพะฒะตัะธัั ะธัะฟัะฐะฒะปะตะฝะธะต

### 1. ะะตัะตะทะฐะฟัััะธัะต ัะตัะฒะตั
```bash
# ะััะฐะฝะพะฒะธัะต ััะฐััะน (Ctrl+C)
python main.py
```

### 2. ะัะบัะพะนัะต index.html ะฒ ะฑัะฐัะทะตัะต
ะะฑัะทะฐัะตะปัะฝะพ **ะพะฑะฝะพะฒะธัะต ัััะฐะฝะธัั** (Ctrl+F5 ะธะปะธ Cmd+Shift+R)

### 3. ะะฐะฟัััะธัะต ัะตัั
```
ะะฐะบะฐะฝัะธั: System Analyst
ะขะตัะฝะพะปะพะณะธั: UML
ะะฐะบั. ัััะฐะฝะธั: 5
```

### 4. ะะฐะฑะปัะดะฐะนัะต

**ะะพะปะถะฝะพ ะฟัะพะธััะพะดะธัั:**
- โ ะัะพะณัะตัั-ะฑะฐั ััะฐะทั ะฝะฐัะธะฝะฐะตั ะดะฒะธะณะฐัััั
- โ ะกะพะพะฑัะตะฝะธะต ะผะตะฝัะตััั: "ะะพะปััะฐะตะผ ัะฟะธัะพะบ..." โ "ะะฐะนะดะตะฝะพ 996 ะฒะฐะบะฐะฝัะธะน..."
- โ ะะพัะฒะปััััั ะบะฐััะพัะบะธ ั ัะธััะฐะผะธ
- โ ะฆะธััั ะพะฑะฝะพะฒะปััััั ะบะฐะถะดัั ัะตะบัะฝะดั
- โ ะัะพะณัะตัั ะดะพัะพะดะธั ะดะพ 50% โ 75% โ 100%

**ะัะปะธ ะฟัะพะณัะตัั ะฒัั ัะฐะฒะฝะพ ััะพะธั ะฝะฐ 0%:**
1. ะัะบัะพะนัะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ (F12)
2. ะกะผะพััะธัะต ะฒะบะปะฐะดะบั Console ะฝะฐ ะพัะธะฑะบะธ
3. ะกะผะพััะธัะต Network โ WS โ Messages
4. ะะพะปะถะฝั ะฒะธะดะตัั ะฒัะพะดััะธะต ัะพะพะฑัะตะฝะธั

---

## ๐ฎ ะะณัะฐ ั ะฝะฐัััะพะนะบะฐะผะธ

### ะัััััะน ัะตะถะธะผ (ัะธัะบะพะฒะฐะฝะฝัะน)
```
ะะฐะดะตัะถะบะฐ ะทะฐะฟัะพัะพะฒ: 0.05
ะะฐะบั. ะทะฐะฟัะพัะพะฒ/ัะตะบ: 10
```
โ๏ธ ะะพะถะตั ะฒัะทะฒะฐัั rate limit ะพั HH.ru

### ะะตะทะพะฟะฐัะฝัะน ัะตะถะธะผ
```
ะะฐะดะตัะถะบะฐ ะทะฐะฟัะพัะพะฒ: 0.3
ะะฐะบั. ะทะฐะฟัะพัะพะฒ/ัะตะบ: 5
```
โ ะะตะดะปะตะฝะฝะตะต, ะฝะพ ะฝะฐะดะตะถะฝะตะต

### ะะพะปะณะธะน ะบัั
```
ะัะตะผั ะถะธะทะฝะธ ะบััะฐ: 168 (ะฝะตะดะตะปั)
```
๐ฏ ะะฐะบัะธะผะฐะปัะฝะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะฟัะธ ะฟะพะฒัะพัะฝัั ะทะฐะฟัะพัะฐั

---

## ๐ API ะธะทะผะตะฝะตะฝะธั

### ะะพะฒัะต endpoints

#### GET `/settings`
ะะพะปััะธัั ัะตะบััะธะต ะณะปะพะฑะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ
```bash
curl http://localhost:8000/settings
```

ะัะฒะตั:
```json
{
  "max_workers": 5,
  "request_delay": 0.1,
  "max_requests_per_second": 7,
  "cache_ttl_hours": 24
}
```

#### POST `/settings`
ะะฑะฝะพะฒะธัั ะณะปะพะฑะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ
```bash
curl -X POST http://localhost:8000/settings \
  -H "Content-Type: application/json" \
  -d '{
    "max_workers": 3,
    "request_delay": 0.3,
    "max_requests_per_second": 5,
    "cache_ttl_hours": 48
  }'
```

### ะะฐััะธัะตะฝะฝัะน ะทะฐะฟัะพั ัะตัะตะท WebSocket

ะขะตะฟะตัั ะผะพะถะฝะพ ะฟะตัะตะดะฐะฒะฐัั ะฝะฐัััะพะนะบะธ ะฟััะผะพ ะฒ ะทะฐะฟัะพัะต:
```javascript
websocket.send(JSON.stringify({
    vacancy_title: "System Analyst",
    technology: "UML",
    exact_search: true,
    area: 113,
    max_pages: 5,
    // ะะตัะตะพะฟัะตะดะตะปะธัั ะฝะฐัััะพะนะบะธ ะดะปั ััะพะณะพ ะทะฐะฟัะพัะฐ
    request_delay: 0.2,
    max_requests_per_second: 6,
    cache_ttl_hours: 12
}));
```

---

## ๐ ะะธะฐะณะฝะพััะธะบะฐ

### ะัะปะธ ะฟัะพะณัะตัั ะฝะต ัะฐะฑะพัะฐะตั

1. **ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ (F12)**
   ```
   WebSocket ัะพะตะดะธะฝะตะฝะธะต ัััะฐะฝะพะฒะปะตะฝะพ
   ะะพะปััะตะฝะพ ัะพะพะฑัะตะฝะธะต: {stage: "fetching_vacancies", progress: 0}
   ะะพะปััะตะฝะพ ัะพะพะฑัะตะฝะธะต: {stage: "fetching_vacancies", progress: 10}
   ะะพะปััะตะฝะพ ัะพะพะฑัะตะฝะธะต: {stage: "fetching_vacancies", progress: 15}
   ...
   ```
   
   ะัะปะธ ัะพะพะฑัะตะฝะธะน ะฝะตั โ ะฟัะพะฑะปะตะผะฐ ะฝะฐ ัะตัะฒะตัะต  
   ะัะปะธ ัะพะพะฑัะตะฝะธั ะตััั โ ะฟัะพะฑะปะตะผะฐ ะฒ ะพะฑัะฐะฑะพัะบะต ะฝะฐ ะบะปะธะตะฝัะต

2. **ะัะพะฒะตัััะต ะปะพะณะธ ัะตัะฒะตัะฐ**
   ```
   ะะฐัะธะฝะฐะตะผ ะฟะพะธัะบ ะฒะฐะบะฐะฝัะธะน...
   ะะพะปััะตะฝ ะฟะตัะฒัะน ะทะฐะฟัะพั...
   ะะฐะณััะถะตะฝะฐ ัััะฐะฝะธัะฐ 2/5...
   ```
   
   ะัะปะธ ะปะพะณะพะฒ ะฝะตั โ WebSocket ะฝะต ะฟะพะดะบะปััะธะปัั  
   ะัะปะธ ะปะพะณะธ ะตััั โ ะฟัะพะฒะตัััะต ะฟ.1

3. **ะะฑะฝะพะฒะธัะต ัััะฐะฝะธัั**
   - ะะฑัะทะฐัะตะปัะฝะพ Ctrl+F5 (ะพัะธััะบะฐ ะบััะฐ)
   - ะะปะธ ะพัะบัะพะนัะต ะฒ ัะตะถะธะผะต ะธะฝะบะพะณะฝะธัะพ

---

## ๐ ะกัะฐะฒะฝะตะฝะธะต ะฒะตััะธะน

| ะงัะพ | v1.2.0 | v1.3.0 |
|-----|--------|--------|
| ะัะพะณัะตัั-ะฑะฐั | ะกัะพะธั ะฝะฐ 0% | ะะปะฐะฒะฝะพ ะดะฒะธะถะตััั โ |
| ะกะพะพะฑัะตะฝะธั | ะะต ะผะตะฝััััั | ะะฑะฝะพะฒะปััััั โ |
| ะะฐััะพัะบะธ | ะััััะต | ะะฐะฟะพะปะฝััััั โ |
| ะะฐัััะพะนะบะธ | ะ ะบะพะดะต | ะ ะธะฝัะตััะตะนัะต โ |
| API | ะะฐะทะพะฒัะน | ะะฐััะธัะตะฝะฝัะน โ |

---

## ๐ฏ ะัะพะณะธ

### ะงัะพ ะธัะฟัะฐะฒะปะตะฝะพ
โ ะัะพะณัะตัั ัะตะฟะตัั ัะฐะฑะพัะฐะตั ะบะพััะตะบัะฝะพ  
โ ะัะต ะดะฐะฝะฝัะต ะพะฑะฝะพะฒะปััััั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ  
โ WebSocket ัะพะพะฑัะตะฝะธั ะดะพัะพะดัั ะดะพ ะฑัะฐัะทะตัะฐ  

### ะงัะพ ะดะพะฑะฐะฒะปะตะฝะพ
โ ะะฐััะธัะตะฝะฝัะต ะฝะฐัััะพะนะบะธ ะฒ ะธะฝัะตััะตะนัะต  
โ API ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะณะปะพะฑะฐะปัะฝัะผะธ ะฝะฐัััะพะนะบะฐะผะธ  
โ ะะพะทะผะพะถะฝะพััั ะฟะตัะตะพะฟัะตะดะตะปััั ะฝะฐัััะพะนะบะธ ะดะปั ะบะฐะถะดะพะณะพ ะทะฐะฟัะพัะฐ  

### ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
- ะะพัะปะตะดะพะฒะฐัะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะฝะต ะทะฐะผะตะดะปะธะปะฐ ัะฐะฑะพัั
- ะัะธะฝััะพะฝะฝัะน ะบะพะด ัะฐะฑะพัะฐะตั ัััะตะบัะธะฒะฝะตะต
- ะัั ะฟะพ-ะฟัะตะถะฝะตะผั ะดะฐะตั ััะบะพัะตะฝะธะต ะฒ 10 ัะฐะท

---

**ะขะตะฟะตัั ะฒัั ัะฐะฑะพัะฐะตั ะบะฐะบ ะทะฐะดัะผะฐะฝะพ! ๐**